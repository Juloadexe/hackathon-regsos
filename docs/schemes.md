# Взаимодейтсвие компонентов системы
```
┌─────────────────┐    HTTP запрос    ┌──────────────────┐    Чтение файла    ┌─────────────────┐
│                 │ ────────────────► │                  │ ─────────────────► │                 │
│   Веб-клиент    │                   │     Бэкенд       │                    │    Файл логов   │
│                 │ ◄──────────────── │     (Go API)     │ ◄───────────────── │   (plan.json)   │
│                 │    JSON ответ     │                  │   Парсинг данных   │                 │
└─────────────────┘                   └──────────────────┘                    └─────────────────┘
         │                                      │                                      │
         │                                      │                                      │
         │ Показывает красивые                  │ Отправляет структурированные         │ Используется как
         │ таблицы и графики                    │ данные и статистику                  │ исходный материал
         ▼                                      ▼                                      ▼
```


# Эталонное представление
```mermaid
flowchart LR
    subgraph Frontend [Веб-клиент]
        A[React/Vue приложение]
    end
    
    subgraph Backend [Бэкенд]
        B[Go API сервер]
        C[Парсер логов]
    end
    
    subgraph Data [Данные]
        D[Файл логов<br/>plan.json]
    end
    
    A -- "❶ HTTP запрос<br/>POST /api/upload" --> B
    B -- "❷ JSON ответ<br/>logs, stats" --> A
    B -- "❸ Чтение файла" --> D
    D -- "❹ Парсинг данных" --> C
    C -- "❺ Обработанные данные" --> B
    
    A -- "Показывает красивые<br/>таблицы и графики" --> E[Пользовательский интерфейс]
    B -- "Отправляет структурированные<br/>данные и статистику" --> F[API ответ]
    D -- "Используется как<br/>исходный материал" --> G[Входные данные]
```
# Схема с использование Elasticsearch

```mermaid
graph TB
    subgraph WebBrowser [Веб-браузер]
        UI[Веб-клиент<br/>React/Vue]
    end
    
    subgraph BackendServer [Бэкенд сервер]
        API[API слой<br/>Go HTTP сервер]
        PARSER[Парсер логов]
    end
    
    subgraph ElasticStack [Elastic Stack]
        ES[Elasticsearch<br/>Хранение и поиск]
        KIBANA[Kibana<br/>Аналитика - опционально]
    end
    
    subgraph FileSystem [Файловая система]
        LOGS[Файлы логов<br/>Terraform JSON]
    end
    
    UI -- "HTTP запросы" --> API
    API -- "JSON ответы" --> UI
    PARSER -- "Чтение файлов" --> LOGS
    PARSER -- "Индексация данных" --> ES
    API -- "Поисковые запросы" --> ES
    API -- "Получение результатов" --> ES
    KIBANA -.-> ES
```
